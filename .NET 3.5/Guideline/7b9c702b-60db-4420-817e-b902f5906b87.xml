<?xml version="1.0" encoding="utf-8"?>
<TeamMentor_Article Metadata_Hash="582363214" Content_Hash="547430464">
  <Metadata>
    <Id>7b9c702b-60db-4420-817e-b902f5906b87</Id>
    <Library_Id>92718d53-36b2-47bc-b6f5-e60994385f46</Library_Id>
    <Title>ネットワーク上の秘密を保護するためのトランスポートレベルの暗号化を検討する</Title>
    <Category>通信セキュリティ</Category>
    <Phase>実装</Phase>
    <Technology>.NET 3.5</Technology>
    <Type>ガイドライン</Type>
    <DirectLink />
    <Tag />
    <Security_Demand />
    <Author />
    <Priority />
    <Status />
    <Source>SI</Source>
  </Metadata>
  <Content Sanitized="true" DataType="Html">
    <Data><![CDATA[<h1>行うべき事柄</h1>
  <p>暗号化された通信チャンネルを使用することで、サーバ間で送信されるデータを保護します。</p>
  <h1>理由</h1>
  <p />インターネットには窃取やレイヤーが溢れています。 データが有線で送信される場合、一般に、それは&nbsp;最終目的地に進む過程で複数の中間リレーを通過します。 安全なプロトコルを使用した情報の送信は重要です。なぜなら、それにより送信中の不慮の傍受や修正に対する保護が追加されるためです。 <h1>状況</h1><p />これは、機微データを 2 つのホスト間で送信する必要がある場合は、それが送信媒体として公開インターネットまたはプライベート LAN のいずれを使用している場合でも適切です。 お使いのサーバが、ネットワーク盗聴の脅威が重大でないとされる物理的に安全なデータ センター内にない場合は、暗号化された通信チャンネルを使用して、サーバ間で送信されるデータを保護する必要があります。<h1>対策</h1><p>トラフィックを暗号化し、サーバ間の通信を保護するために  SSL または  IPSec を使用できます。 コンピュータ上で実行しているすべてのアプリケーションとサービスに対する保護ではなく、特定のアプリケーションに対する粒度別のチャネル保護が必要な場合には、SSL を使用します。 IPSec を使用して、2 台のサーバ間における通信チャネルを保護し、互いに通信できるコンピュータを制限します。 たとえば、アプリケーションまたは Web サーバのような信頼済みのクライアントからの要求のみを許可するポリシーを確立することで、データベース サーバを保護することができます。 また、通信を特定の IP プロトコルや TCP/UDP ポートに限定することもできます。</p><h2>SSL</h2><p>SSL を使用することで、ブラウザ クライアントと Web サーバ間に安全な暗号化通信チャネルを作成してください。</p><p>SSL を使用するには、以下の操作を実行してください。</p><ol><li><p><strong>証明書をインストールします。</strong> サーバ証明書を Web サーバにインストールします。 同一の認証局からの root CA (認証局) 証明書をローカル コンピュータの Trusted Root Certification Authorities の証明書ストアにインストールします。 </p><li><p><strong>IIS の構成を行います。</strong> IIS を使用して、サーバで Web ページへのアクセス中に暗号化の使用を強制するための構成を行ってください。 </p><li><p><strong>最適化します。 </strong>性能上のオーバーヘッドを最小限に抑えるため、SSL を念頭に置きながらページの設計を行います。 SSL を使用するページを、含めるテキストおよびシンプル グラフィックの数を減らすことで最適化し、サイトを&nbsp;区分し、機微データが含まれるページのみに SSL が使用されることを確認します。</p></li></li></li></ol><h2>IPSec</h2><p>IPSecは、次のタスクに&nbsp;使用することができます。</p><ul><li>2つのコンピュータ間で送信されるデータのすべてを暗号化することで、メッセージの機密性を提供します。 <li>データの暗号化を行わずに、2 つのコンピュータ間でメッセージの完全性を提供します 。 <li>2 つのコンピュータ間で相互認証を提供します。 たとえば、特定のクライアント コンピュータ (アプリケーションまたは Web サーバ等) からの要求だけを許可するポリシーを定めることで、データベース サーバをセキュリティで保護することができます。 <li>互いに通信できるコンピュータを限定します。 特定の IP プロトコル や TCP/UDP ポートに通信を制限することもできます。</li></li></li></li></ul><p>2 つのサーバが固定 IP アドレスを使用していない場合は、IPSec の使用は選択できません。</p><p>2 つのサーバ間のトラフィックをセキュリティで保護するには、以下の手順を実行してください。</p><ol><li><p><strong>IPフィルタの作成。</strong> こうすることで、&nbsp;互いに通信できるコンピュータが&nbsp;限定され、&nbsp;特定の&nbsp;通信プロトコルの使用を必須にすることができます。&nbsp;フィルタの構成は次のとおりです。</p><ul><li>送信元IPアドレスまたはアドレスの範囲。 <li>宛先IPアドレスまたはアドレスの範囲。 <li>TCP、UDP、 "任意" などのIPプロトコル<li>送信元および宛先ポート（TCPまたはUDPの場合のみ）。</li></li></li></li></ul><li><p><strong>フィルタアクションの作成。</strong> このプロシージャは、2つのフィルタアクションを作成します。 最初のフィルタアクションは、指定されたコンピュータからのすべての通信をブロックするために使用され、2番目は、アプリケーションサーバとデータベースサーバコンピュータ間の暗号化の使用を強制するために使用されます。 </p><li><p><strong>ルールの作成。</strong> このプロシージャは、プロシージャ1で作成したフィルタをプロシージャ2で作成した二つのフィルタアクションに関連付けるために使用される、二つのルールを作成します。 </p><li><p><strong>リモートコンピュータにIPSec ポリシーをエクスポートします。</strong> データベースサーバで作成したIPSec ポリシーは、アプリケーションサーバ コンピュータにエクスポートしコピーする必要があります。 </p><li><p><strong>ポリシーの割り当て。</strong> アクティブになる前にIPSecポリシーを割り当てる必要があります。 一つのコンピュータ上の一時点では、一つのポリシーだけをアクティブにできることに注意してください。 </p><li><p><strong>動作することを確認します。</strong> ネットワーク モニター (netmon.exe) を使用して、2 つのサーバ間で送信されるデータが&nbsp;暗号化されていることを確認してください。 </p></li></li></li></li></li></li></ol><hr /><p>出典: Microsoft patterns & practices guidance</p>]]></Data>
  </Content>
</TeamMentor_Article>