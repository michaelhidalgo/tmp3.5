<?xml version="1.0" encoding="utf-8"?>
<TeamMentor_Article Metadata_Hash="-738406383" Content_Hash="939205572">
  <Metadata>
    <Id>c5ec2f64-2cba-45b1-8db1-9d3803f7d397</Id>
    <Library_Id>92718d53-36b2-47bc-b6f5-e60994385f46</Library_Id>
    <Title>ドメイン アカウントが使用できない場合はミラーのローカル アカウントを使用する</Title>
    <Category>データ アクセス</Category>
    <Phase>実装</Phase>
    <Technology>ASP.NET 3.5</Technology>
    <Type>ガイドライン</Type>
    <DirectLink />
    <Tag />
    <Security_Demand />
    <Author />
    <Priority>2</Priority>
    <Status />
    <Source>SI</Source>
  </Metadata>
  <Content Sanitized="true" DataType="Html">
    <Data><![CDATA[<h1>行うべき事柄</h1>
  <p>ドメイン アカウントが使用できない場合にのみ、ミラーのローカル認証を使用して接続を行ってください。 ミラーしたローカルアカウントがあれば、同一のユーザー名とパスワードで各サーバに２つのアカウントを構成します。 パスワードが同一のままであることを確認する必要があります。</p>
  <h1>理由</h1>
  <p>ドメイン アカウントには、ミラーのローカル アカウントと比べていくつかの利点があります。</p>
  <ul>
    <li>Active Directory パスワード ポリシーを強制することができます。 <li>Active Directory では、単一の管理ツール セットを備えた単一の ID ストアが提供されます。 別個の SQL アカウント セットを維持する必要がありません。 <li>認証の間ネットワーク経由でCredential 情報が渡されず､データベース接続文字列にユーザー名とパスワードを埋め込む必要がありません。 これは、ネットワークを監視するか、または構成ファイルの中の接続文字列を見ることで、悪意のあるユーザーおよび攻撃者がCredential 情報を取得することができないことを意味します｡ <li>アカウント管理の集中化の利点が得られます｡ ユーザーアカウントは、パスワード有効期限､最小長、複数回の無効なログオン要求後のアカウント凍結のような、通常のアカウント管理セキュリティ ポリシーに従います。</li></li></li></li>
  </ul>
  <p>こうした理由から、ミラーのローカル アカウントはあまり魅力のない選択肢であり、ドメイン アカウントが使用できない場合にのみ求められるべきです。</p>
  <h1>状況</h1>
  <p>できる限りドメイン アカウントを使用してください。 次の条件が存在する場合は、ミラーのローカル アカウントを代わりに使用する必要があります。</p>
  <ul>
    <li>データベース クライアントとデータベース サーバは Kerberos または NTLM 認証を防いでしまうファイアウォールで分離されています。 <li>アプリケーションサーバおよびデータベースサーバが、信任されてない別個のドメインに置かれている場合｡</li></li>
  </ul>
  <h1>対策</h1>
  <ol>
    <li>Windows 認証の使用は続けますが、Web サーバおよびデータベース サーバ上で同じ名前とパスワードを持つローカル アカウントを 2 つ作成します。 <li>Web サーバで作成されたローカル アカウントを使用して実行されるようにアプリケーションを構成して、データベース サーバ上のローカル アカウントの SQL ログインを作成します。 <li>このアプローチでは、2 つのアカウントのパスワードが同期されたままであることを確認する必要があります。 </li></li></li>
  </ol>
  <p>SQL認証を使用する場合､次のことが必要です:</p>
  <ul>
    <li>自身でCredential 情報の管理をしてください｡ <li>接続文字列内のCredential 情報を保護してください｡ <li>(潜在的に)ウェブサーバからデータベースにネットワーク経由で渡されるCredential 情報を保護してください｡</li></li></li>
  </ul>
  <h1>関連する項目</h1>
  <ul>
    <li>
      <div>
        <a href="/article/4acdbf17-08dc-4226-a2ec-485c7893594f">SQL Server への接続の際にWindows 認証を使用する</a>
      </div>
    </li>
  </ul>
  <hr />
  <p>出典: Microsoft patterns & practices guidance </p>]]></Data>
  </Content>
</TeamMentor_Article>